<!DOCTYPE html>
<html>
<head>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://cdn.8thwall.com/web/aframe/8frame-1.0.0.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
<a-scene
    vr-mode-ui="enabled: false;"
    loading-screen="enabled: false;"
    renderer="logarithmicDepthBuffer: true;"
    id="scene"
    embedded
>
<a-assets>
    <a-asset-item
        id="animated-asset"
        src="assets/asset.gltf"
    ></a-asset-item>
</a-assets>

<a-entity
    id="bowser-model"
    scale="0.029413944942555025 0.029413944942555025 0.029413944942555025"
    animation-mixer="loop: repeat"
    gltf-model="#animated-asset"
    class="clickable"
></a-entity>

<script>
    const xr = document.querySelector('a-scene').systems['xr'];

    xr.addEventListener('reality.started', () => {
        console.log('Reality started');
        anchorObjectToPlane();
    });

    function anchorObjectToPlane() {
        const plane = document.createElement('a-entity');
        plane.setAttribute('geometry', {
            primitive: 'plane',
            width: 1,
            height: 1
        });
        plane.setAttribute('material', 'color: #00FF00; transparent: true; opacity: 0.5');
        plane.setAttribute('position', '0 0 -1'); // Adjust the position as needed
        plane.setAttribute('rotation', '-90 0 0'); // Adjust the rotation as needed
        document.querySelector('a-scene').appendChild(plane);

        const bowserModel = document.querySelector('#bowser-model');
        bowserModel.setAttribute('position', '0 0 0'); // Place the object on the plane
        plane.appendChild(bowserModel);
    }
</script>

</a-scene>
</body>
</html>
